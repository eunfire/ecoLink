<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="dao.MyInfoDAO">

	<select id="getEntUser" parameterType="String" resultType="enterpriseDto">
		SELECT * FROM enterprise WHERE memId=#{memId};
	</select>
	
	<update id="userUpdate" parameterType="memberDto">
		UPDATE member SET memPw=#{memPw}, memNick=#{memNick} WHERE memId=#{memId};
	</update>
	
	<update id="entUpdate" parameterType="enterpriseDto">
		UPDATE enterprise SET entPhone=#{entPhone}, entdMainPic=#{entdMainPic}, entdShort=#{entdShort}, entdURL=#{entdURL},
		entdIntro=#{entdIntro}, entdIntroPic=#{entdIntroPic}, entdPic1=#{entdPic1}, entdPic2=#{entdPic2}, entdPic3=#{entdPic3},
		entdExplain1=#{entdExplain1}, entdExplain2=#{entdExplain2}, entdExplain3=#{entdExplain3} WHERE memId=#{memId};
	</update>

	<update id="deleteUser" parameterType="memberDto">
		UPDATE member SET memPw="deleting@acount", memNick="탈퇴회원", memEmail="d@ecolink.com", memType="withdrawal", memRegtime=now(), memName="탈퇴회원" WHERE memId=#{memId};
	</update>
	
	<update id="deleteEnt" parameterType="enterpriseDto">
		UPDATE enterprise SET entPhone=#{entPhone}, entdMainPic=#{entdMainPic}, entdShort=#{entdShort}, entdURL=#{entdURL},
		entdIntro=#{entdIntro}, entdIntroPic=#{entdIntroPic}, entdPic1=#{entdPic1}, entdPic2=#{entdPic2}, entdPic3=#{entdPic3},
		entdExplain1=#{entdExplain1}, entdExplain2=#{entdExplain2}, entdExplain3=#{entdExplain3} WHERE memId=#{memId};
	</update>
	
	<select id="brandBookmark" resultType="dto.EnterpriseBookmarkDTO" parameterType="String">
        SELECT * FROM enterprise_bookmark where memId=#{memId};
    </select>

</mapper>